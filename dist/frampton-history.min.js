!function(){var t,e;!function(){if("undefined"==typeof Frampton)throw new Error("Frampton is undefined");t=Frampton.__loader.define,e=Frampton.__loader.require}(),t("frampton-history",["frampton/namespace","frampton-history/methods/set_hash","frampton-history/methods/push_state","frampton-history/methods/replace_state","frampton-history/methods/history_changes","frampton-history/signals/location","frampton-history/signals/depth","frampton-history/signals/state","frampton-history/signals/search","frampton-history/signals/hash","frampton-history/signals/path"],function(t,e,r,a,s,o,n,u,i,f,l){"use strict";function d(t){return t&&t.__esModule?t:{"default":t}}var p=d(t),c=d(e),h=d(r),_=d(a),y=d(s),m=d(o),g=d(n),v=d(u),M=d(i),b=d(f),O=d(l);p["default"].History={},p["default"].History.VERSION="0.0.5",p["default"].History.pushState=h["default"],p["default"].History.replaceState=_["default"],p["default"].History.setHash=c["default"],p["default"].History.changes=y["default"],p["default"].History.location=m["default"],p["default"].History.depth=g["default"],p["default"].History.state=v["default"],p["default"].History.hash=b["default"],p["default"].History.path=O["default"],p["default"].History.search=M["default"]}),t("frampton-history/history_stack",["exports","frampton-list/last","frampton-history/signals/depth","frampton-history/signals/stack"],function(t,e,r,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.popHistory=t.replaceHistory=t.pushHistory=t.stack=void 0;var o=s(e),n=s(r),u=s(a),i={currentState:null,currentId:0,_store:[]},f=function(t){i._store.push(t),i.currentState=t,i.currentId=t.id,n["default"].push(i._store.length),u["default"].push(null)},l=function(t){i.currentState=t,i.currentId=t.id,u["default"].push(null)},d=function(){i._store.pop(),i.currentState=(0,o["default"])(i._store),i.currentId=i.currentState?i.currentState.id:0,n["default"].push(i._store.length),u["default"].push(null)};t.stack=i,t.pushHistory=f,t.replaceHistory=l,t.popHistory=d}),t("frampton-history/methods/history_changes",["exports","frampton-history/signals/location"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){s["default"].next(t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=r(e)}),t("frampton-history/methods/push_state",["exports","frampton-data/task/create","frampton-utils/guid","frampton-history/utils/get_history","frampton-history/history_stack"],function(t,e,r,a,s){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r),i=o(a);t["default"]=function(t){return(0,n["default"])(function(e){t.id=(0,u["default"])(),(0,i["default"])().pushState(t,t.name,t.path),(0,s.pushHistory)(t),e.resolve(null)})}}),t("frampton-history/methods/replace_state",["exports","frampton-data/task/create","frampton-utils/guid","frampton-history/utils/get_history","frampton-history/history_stack"],function(t,e,r,a,s){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r),i=o(a);t["default"]=function(t){return(0,n["default"])(function(e){t.id=(0,u["default"])(),(0,i["default"])().replaceState(t,t.name,t.path),(0,s.replaceHistory)(t),e.resolve(null)})}}),t("frampton-history/methods/set_hash",["exports","frampton-history/history_stack"],function(t,e){"use strict";function r(t){(0,e.pushState)({name:"hash",path:"#"+t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r}),t("frampton-history/signals/depth",["exports","frampton-signal/create"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(e);t["default"]=(0,a["default"])(0)}),t("frampton-history/signals/hash",["exports","frampton-signal/stepper","frampton-history/utils/get_location","frampton-history/signals/hash_base"],function(t,e,r,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(e),n=s(r),u=s(a);t["default"]=(0,o["default"])((0,n["default"])().hash,u["default"])}),t("frampton-history/signals/hash_base",["exports","frampton-history/signals/location"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(e);t["default"]=a["default"].map(function(t){return t.hash.replace("#","")})}),t("frampton-history/signals/history",["exports","frampton-history/utils/get_history","frampton-history/signals/stack","frampton-history/signals/popstate"],function(t,e,r,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(e),n=s(r),u=s(a);t["default"]=n["default"].merge(u["default"]).map(function(){return(0,o["default"])()})}),t("frampton-history/signals/location",["exports","frampton-history/utils/get_location","frampton-history/signals/history"],function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(e),o=a(r);t["default"]=o["default"].map(function(){return(0,s["default"])()})}),t("frampton-history/signals/path",["exports","frampton-signal/stepper","frampton-history/utils/get_location","frampton-history/signals/path_base"],function(t,e,r,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(e),n=s(r),u=s(a);t["default"]=(0,o["default"])((0,n["default"])().pathname,u["default"])}),t("frampton-history/signals/path_base",["exports","frampton-history/signals/location"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(e);t["default"]=a["default"].map(function(t){return t.pathname})}),t("frampton-history/signals/popstate",["exports","frampton-events/on_event","frampton-history/history_stack"],function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(e);if(!window.history||!window.history.pushState)throw new Error("History API is not supported by this browser");t["default"]=(0,s["default"])("popstate",window).map(function(t){return t.state&&(t.state.id<r.stack.currentId?(0,r.popHistory)():t.state.id>r.stack.currentId&&(0,r.pushHistory)(t.state)),t})}),t("frampton-history/signals/search",["exports","frampton-signal/stepper","frampton-history/utils/get_location","frampton-history/utils/parse_search","frampton-history/signals/search_base"],function(t,e,r,a,s){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r),i=o(a),f=o(s);t["default"]=(0,n["default"])((0,i["default"])((0,u["default"])().search||""),f["default"])}),t("frampton-history/signals/search_base",["exports","frampton-history/signals/location","frampton-history/utils/parse_search"],function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(e),o=a(r);t["default"]=s["default"].map(function(t){return(0,o["default"])(t.search||"")})}),t("frampton-history/signals/stack",["exports","frampton-signal/create"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(e);t["default"]=(0,a["default"])()}),t("frampton-history/signals/state",["exports","frampton-signal/stepper","frampton-history/utils/get_history","frampton-history/signals/state_base"],function(t,e,r,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(e),n=s(r),u=s(a);t["default"]=(0,o["default"])((0,n["default"])().state,u["default"])}),t("frampton-history/signals/state_base",["exports","frampton-history/signals/history"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(e);t["default"]=a["default"].map(function(t){return t.state})}),t("frampton-history/utils/get_history",["exports","frampton/namespace","frampton-history/utils/get_location"],function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(){var t=[],e=0;return{state:null,pushState:function(r,a,s){e++,(0,i["default"])().pathname=s,t.push({state:r,title:a,url:s})},replaceState:function(r,a,s){(0,i["default"])().pathname=s,t[e]={state:r,title:a,url:s}}}}function o(){return null===f&&(f=s()),f}function n(){return u["default"].isTest()?o():window.history}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=a(e),i=a(r),f=null}),t("frampton-history/utils/get_location",["exports","frampton/namespace"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(){return{hash:"",pathname:"/test/path",search:"?test=true"}}function s(){return null===u&&(u=a()),u}function o(){return n["default"].isTest()?s():window.location}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(e),u=null}),t("frampton-history/utils/parse_search",["exports","frampton-utils/memoize","frampton-history/utils/query_unescape"],function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(t){return 2===t.length&&""!==t[0]&&""!==t[1]}Object.defineProperty(t,"__esModule",{value:!0});var o=a(e),n=a(r);t["default"]=(0,o["default"])(function(t){var e={},r=t.replace("?","").split("&");return r.forEach(function(t){var r=t.split("=");s(r)&&(e[(0,n["default"])(r[0])]=(0,n["default"])(r[1]))}),e})}),t("frampton-history/utils/query_unescape",["exports","frampton-utils/memoize","frampton-string/join","frampton-string/split","frampton-history/utils/uri_decode"],function(t,e,r,a,s){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r),i=o(a),f=o(s);t["default"]=(0,n["default"])(function(t){return(0,u["default"])(" ",(0,i["default"])("+",(0,f["default"])(t)))})}),t("frampton-history/utils/uri_decode",["exports","frampton-utils/memoize"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(e);t["default"]=(0,a["default"])(function(t){return decodeURIComponent(t)})}),e("frampton-history")}();